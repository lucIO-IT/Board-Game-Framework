<style>
    .prova {
        width: 30px;
        height: 30px;
        background: red;
        position: relative;
        transition: background 0.5s;
    }
    .prova:hover::after{
        transition: background 0.5s;
    }
    .prova:hover::after{
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        bottom: 0;
        right: 0;
        width: 30px;
        height: 30px;
        background: black;
        opacity: 0.2;

    }
</style>
<button class="btn">uno</button>
<button class="btn">due</button>
<button class="btn">tre</button>
<div class="prova"></div>
<script>
function addAction(cls, action, pointer){
    const els = document.querySelectorAll(cls);
    if (pointer != null){
        els.forEach(ev => ev.addEventListener(pointer, action));
    } else {
        e => action(e);
    }    
}
function ciao(event){
    alert(event.target.innerHTML);
}
addAction('.btn', ciao, 'click');
</script>